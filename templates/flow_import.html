{% extends "base.html" %}

{% block title %}Rainn | Import Flow{% endblock %}

{% block content %}

<div class="page-header d-print-none">
  <div class="row g-2 align-items-center">
    <div class="col">
      <div class="page-pretitle">Flows</div>
      <h2 class="page-title">Import Flow</h2>
      <div class="text-secondary">Paste a flow JSON or upload a file to import a reusable definition.</div>
    </div>
  </div>
</div>

<div class="row row-cards">
  <div class="col-12">
    <div class="card">
      <div class="card-body">
        {% if error_message %}
        <div class="alert alert-danger">{{ error_message }}</div>
        {% endif %}
        {% if success_message %}
        <div class="alert alert-success">{{ success_message }}</div>
        {% endif %}

        <form method="post" enctype="multipart/form-data" class="row g-3">
          <div class="col-12">
            <label class="form-label">Flow JSON</label>
            <textarea class="form-control" name="flow_json" rows="10" placeholder='{"schema_version":"rainn.flow.v1", ...}'></textarea>
            <div class="form-hint">Paste the exported JSON here (optional if you upload a file).</div>
          </div>

          <div class="col-12">
            <label class="form-label">Upload JSON file</label>
            <input type="file" class="form-control" name="flow_file" accept=".json,application/json">
          </div>

          <div class="col-12">
            <button type="submit" class="btn btn-primary">
              <i class="ti ti-upload me-2"></i>Import flow
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

{% endblock %}
