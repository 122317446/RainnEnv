<!-- ==========================================
File: update_stage.html
Created in iteration: 1
Author: Karl Concha

#ChatGPT (OpenAI, 2025) – Assisted in refining Bootstrap form layout 
and Jinja2 field bindings for editing individual stage data. 
Conversation Topic: "Rainn Iteration 1 – Update stage form in Flask template"
Date: November 2025

References:
- Bootstrap 5 Documentation: https://getbootstrap.com/docs/5.3/forms/overview/
- Flask Jinja2 Templating Guide: https://flask.palletsprojects.com/
- UCC IS4470 FYP Bible – Iteration documentation and code referencing requirements

Notes:
This template provides the front-end interface for updating a single 
TaskStageDef record. It supports the Update functionality within the CRUD cycle 
for Iteration 1 and connects directly to the `update_stage` Flask route.
========================================== -->

{% extends "base.html" %}
{% block content %}
<div class="container mt-5" style="max-width: 600px;">
  <div class="card shadow-lg border-0">
    <div class="card-header text-white text-center" style="background-color: #7F6A93;">
      <h4 class="mb-0">Edit Stage</h4>
    </div>
    <div class="card-body" style="background-color: #E8EEF2;">
      <form method="POST" action="{{ url_for('update_stage', stage_id=stage.TaskStageDef_ID) }}">
        <div class="mb-3">
          <label class="form-label fw-bold">Stage Type</label>
          <input type="text" class="form-control" name="stage_type" value="{{ stage.TaskStageDef_Type }}" required>
        </div>
        <div class="mb-3">
          <label class="form-label fw-bold">Description</label>
          <textarea class="form-control" name="stage_desc" rows="3" required>{{ stage.TaskStageDef_Description }}</textarea>
        </div>
        <div class="d-flex justify-content-between">
          <a href="{{ url_for('update_agent', agent_id=stage.TaskDef_ID_FK) }}" class="btn btn-outline-secondary">Back</a>
          <button type="submit" class="btn text-white" style="background-color:#7F6A93;">Update Stage</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
